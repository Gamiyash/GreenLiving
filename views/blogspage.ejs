<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="icon"
      type="image/png"
      href="https://firebasestorage.googleapis.com/v0/b/greenlander-c8556.appspot.com/o/logo-icon.png?alt=media&token=7ee18bf1-5432-452b-8c2d-9eb5668bdc8e"
      class="custom-icon"
    />
    <title>Blogs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      .learn {
        background-color: #0765158c;
        padding: 6px;
        border-radius: 4px;
      }
      .path {
        display: flex;
        margin-left: 100px;
        background-color: rgba(240, 248, 255, 0.281);
        width: fit-content;
        gap: 3px;
      }
      .home {
        text-decoration: underline green;
      }
      .dark-mode {
        background: #000000;
        color: #e6e6e6;
      }
      .dark-mode .logo-txt,
      li > a {
        color: #000000;
      }

      .dark-mode .title {
        color: rgb(0, 0, 0);
      }
      .dark-mode .card-blog:hover {
        border: 1px solid rgb(1, 52, 1);
        box-shadow: 2px 3px rgb(198, 253, 206);
      }

      .dark-mode .card-blog {
        background: #000000;
        color: white;
      }
      .dark-mode .b-card {
        background: #000000;
        color: white;
      }
      .dark-mode .txt {
        color: white;
      }
      .dark-mode .tt {
        color: rgb(182, 236, 182);
      }
      .dark-mode .btn {
        color: white;
        border: 2px solid rgb(0, 76, 0);
      }
      .dark-mode .btn:hover {
        color: #f9ecec;
        border: 2px solid rgb(2, 87, 40);
        background-color: rgba(2, 51, 2, 0.329);
      }
      .btn-blog {
        border: #04461e 2px solid;
      }
    </style>
  </head>
  <body>
    <%- include('header') %>

    <nav class="text-sm mb-8" aria-label="Breadcrumb">
      <ol class="list-none p-0 inline-flex">
        <li class="flex items-center">
          <a href="/home" class="text-blue-500 hover:text-blue-600">Home</a>
          <svg
            class="fill-current w-3 h-3 mx-3"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 320 512"
          >
            <path
              d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"
            />
          </svg>
        </li>
        <li>
          <a href="#" class="text-gray-500" aria-current="page">Blogs</a>
        </li>
      </ol>
    </nav>
    <section class="w-full py-12 md:py-24 lg:py-32 bg-muted blog">
      <div class="container px-4 md:px-6">
        <div
          class="flex flex-col items-center justify-center space-y-4 text-center"
        >
          <div class="space-y-2">
            <h2
              class="tt text-3xl font-bold text-[#2f5437] tracking-tighter sm:text-5xl"
            >
              Waste Management
            </h2>
          </div>
        </div>
        <div
          class="mx-auto grid max-w-5xl grid-cols-1 gap-8 py-12 sm:grid-cols-2 lg:grid-cols-3"
        >
          <% if (blogs && blogs.length> 0) { %> <% blogs.forEach(function(blog)
          { %>
          <div
            class="card-blog group flex flex-col overflow-hidden rounded-lg border shadow-sm transition-all hover:shadow-md"
          >
            <img
              src="<%= blog.imageUrl %>"
              alt="<%= blog.title %>"
              width="600"
              height="400"
              class="aspect-video w-full object-cover"
            />
            <div class="flex flex-1 flex-col justify-between p-6 b-card">
              <div>
                <h3
                  class="text-xl font-semibold transition-colors group-hover:text-primary title txt"
                >
                  <%= blog.title %>
                </h3>
                <p class="des mt-3 line-clamp-3 text-muted-foreground txt">
                  <%= blog.excerpt %>
                </p>
              </div>
              <a
                class="txt btn-blog btn mt-4 inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"
                href="/post/<%= blog._id %>"
                rel="ugc"
              >
                Read More
              </a>
            </div>
          </div>
          <% }); %> <% } else { %>
          <p class="col-span-full text-center text-muted-foreground">
            No blogs found.
          </p>
          <% } %>
        </div>
      </div>
    </section>

    <%- include('footer') %>
    <script>
      function applyDarkModePreference() {
        const isDarkMode = localStorage.getItem("darkMode") === "true";
        const body = document.body;

        if (isDarkMode) {
          body.classList.add("dark-mode");
        } else {
          body.classList.remove("dark-mode");
        }
      }

      window.addEventListener("load", applyDarkModePreference);
    </script>
  </body>
</html>
